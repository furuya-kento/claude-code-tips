# よく使うパターン集

このファイルは、プロジェクトでよく使用するコマンドパターンやコードパターンをまとめるテンプレートです。

## Claude Code コマンドパターン

### 新機能開発のフロー
```
> [機能名]を実装してください。以下の要件を満たしてください：
- [要件1]
- [要件2]
- [要件3]

まず既存の[関連機能]を確認してから、段階的に実装してください。
```

### バグ修正のフロー
```
> [機能名]で以下のバグが発生しています：
[エラーメッセージやバグの詳細]

以下の手順で調査してください：
1. 関連するファイルを特定
2. エラーの原因を調査
3. 修正案を提案
4. テストケースも含めて修正
```

### リファクタリング
```
> [ファイル名] の複雑度が高くなっています。
以下の観点でリファクタリングしてください：
- [観点1]
- [観点2]
- [観点3]

既存の機能は保持したまま改善してください。
```

## コードパターン

### [フレームワーク] コンポーネント定義

#### 基本パターン
```[language]
// [コンポーネントの基本的な実装パターン]
interface [ComponentName]Props {
  [prop]: [type]
  [optionalProp]?: [type]
}

export const [ComponentName]: [ComponentType] = ({
  [prop],
  [optionalProp]
}) => {
  // [状態管理やロジック]
  
  return (
    // [JSX/テンプレート]
  )
}
```

#### [特定用途]コンポーネント
```[language]
// [特定の用途（フォーム、モーダルなど）のパターン]
```

### カスタムフック（React の場合）

#### [フック名]フック
```typescript
export const use[HookName] = ([parameters]) => {
  // [フックの実装]
  
  return { [returnValues] }
}
```

### API呼び出しパターン

#### 基本的なAPI関数
```[language]
export const api = {
  [resourceName]: {
    getAll: async ([parameters]): Promise<[ReturnType][]> => {
      // [取得処理の実装]
    },
    
    getById: async (id: string): Promise<[ReturnType]> => {
      // [個別取得処理の実装]
    },
    
    create: async ([data]): Promise<[ReturnType]> => {
      // [作成処理の実装]
    },
    
    update: async (id: string, [data]): Promise<[ReturnType]> => {
      // [更新処理の実装]
    },
    
    delete: async (id: string): Promise<void> => {
      // [削除処理の実装]
    }
  }
}
```

### エラーハンドリングパターン

#### Error Boundary（React の場合）
```typescript
// [エラーバウンダリの実装パターン]
```

#### 一般的なエラーハンドリング
```[language]
// [try-catch や Promise のエラーハンドリングパターン]
```

### テストパターン

#### [テストタイプ]テスト
```[language]
// [ユニットテスト、統合テスト、E2Eテストのパターン]
describe('[テスト対象]', () => {
  it('[テストケース]', async () => {
    // [テストの実装]
  })
})
```

## デバッグパターン

### Claude Codeでのデバッグ依頼
```
> 以下のエラーが発生しています。原因を調査して修正してください：

```
[エラーメッセージ]
```

関連する可能性があるファイル：
- [ファイル1]
- [ファイル2]
- [ファイル3]

エラーの再現手順：
1. [手順1]
2. [手順2]
3. [手順3]

デバッグ情報も含めて解決策を提案してください。
```

### パフォーマンス調査
```
> [対象コンポーネント/機能] のパフォーマンスを分析してください。
現在[具体的な問題]が発生しています。

以下の観点で最適化案を提案してください：
- [最適化観点1]
- [最適化観点2]
- [最適化観点3]

[パフォーマンス測定ツール]の結果も含めて分析してください。
```

### セキュリティ調査
```
> [機能名]のセキュリティを確認してください。
特に以下の観点で問題がないか調査してください：
- [セキュリティ観点1]
- [セキュリティ観点2]
- [セキュリティ観点3]

脆弱性が見つかった場合は修正案も提案してください。
```

## 設定ファイルパターン

### [ツール名]設定
```[language]
// [設定ファイルの内容とコメント]
{
  // [設定項目の説明]
  "[key]": "[value]",
  
  // [設定グループ]
  "[group]": {
    "[subKey]": "[subValue]"
  }
}
```

### 環境変数テンプレート
```bash
# [カテゴリ1]
[VARIABLE_NAME]=[デフォルト値]  # [説明]

# [カテゴリ2]
[VARIABLE_NAME]=[デフォルト値]  # [説明]
```

## ワークフローパターン

### Git コミットメッセージ
```
[type]: [簡潔な説明]

[詳細説明（必要な場合）]

- [変更内容1]
- [変更内容2]
```

### プルリクエストテンプレート
```markdown
## 概要
[変更の概要]

## 変更内容
- [ ] [変更項目1]
- [ ] [変更項目2]

## テスト
- [ ] [テスト項目1]
- [ ] [テスト項目2]

## 確認事項
- [ ] [確認項目1]
- [ ] [確認項目2]
```

## プロジェクト固有パターン

### [プロジェクト固有の要素1]
```[language]
// [プロジェクト特有のパターンやルール]
```

### [プロジェクト固有の要素2]
```[language]
// [よく使う独自の実装パターン]
```

## 便利なスニペット

### [用途1]
```[language]
// [便利なコードスニペット]
```

### [用途2]
```[language]
// [よく使う処理のテンプレート]
```

## 参考リンク

### ドキュメント
- [ドキュメント名](URL): [説明]

### 学習リソース
- [リソース名](URL): [説明]